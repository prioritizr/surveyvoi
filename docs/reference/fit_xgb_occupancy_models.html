<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit boosted regression tree models to predict occupancy — fit_xgb_occupancy_models • surveyvoi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit boosted regression tree models to predict occupancy — fit_xgb_occupancy_models"><meta name="description" content="Estimate probability of occupancy for a set of features in a set of
planning units. Models are fitted using gradient boosted trees (via
xgboost::xgb.train())."><meta property="og:description" content="Estimate probability of occupancy for a set of features in a set of
planning units. Models are fitted using gradient boosted trees (via
xgboost::xgb.train())."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">surveyvoi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/surveyvoi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/prioritizr/surveyvoi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Fit boosted regression tree models to predict occupancy</h1>
      <small class="dont-index">Source: <a href="https://github.com/prioritizr/surveyvoi/blob/HEAD/R/fit_xgb_occupancy_models.R"><code>R/fit_xgb_occupancy_models.R</code></a></small>
      <div class="d-none name"><code>fit_xgb_occupancy_models.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Estimate probability of occupancy for a set of features in a set of
planning units. Models are fitted using gradient boosted trees (via
<code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgb.train()</a></code>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fit_xgb_occupancy_models</span><span class="op">(</span></span>
<span>  <span class="va">site_data</span>,</span>
<span>  <span class="va">feature_data</span>,</span>
<span>  <span class="va">site_detection_columns</span>,</span>
<span>  <span class="va">site_n_surveys_columns</span>,</span>
<span>  <span class="va">site_env_vars_columns</span>,</span>
<span>  <span class="va">feature_survey_sensitivity_column</span>,</span>
<span>  <span class="va">feature_survey_specificity_column</span>,</span>
<span>  <span class="va">xgb_tuning_parameters</span>,</span>
<span>  xgb_early_stopping_rounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">site_detection_columns</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  xgb_n_rounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">site_detection_columns</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  n_folds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">site_detection_columns</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">500</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-site-data">site_data<a class="anchor" aria-label="anchor" href="#arg-site-data"></a></dt>
<dd><p><code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf::sf()</a></code> object with site data.</p></dd>


<dt id="arg-feature-data">feature_data<a class="anchor" aria-label="anchor" href="#arg-feature-data"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame()</a></code> object with feature data.</p></dd>


<dt id="arg-site-detection-columns">site_detection_columns<a class="anchor" aria-label="anchor" href="#arg-site-detection-columns"></a></dt>
<dd><p><code>character</code> names of <code>numeric</code>
columns in the argument to <code>site_data</code> that contain the proportion of
surveys conducted within each site that detected each feature.
Each column should correspond to a different feature, and contain
a proportion value (between zero and one). If a site has
not previously been surveyed, a value of zero should be used.</p></dd>


<dt id="arg-site-n-surveys-columns">site_n_surveys_columns<a class="anchor" aria-label="anchor" href="#arg-site-n-surveys-columns"></a></dt>
<dd><p><code>character</code> names of <code>numeric</code>
columns in the argument to <code>site_data</code> that contain the total
number of surveys conducted for each each feature within each site.
Each column should correspond to a different feature, and contain
a non-negative integer number (e.g. 0, 1, 2, 3). If a site has
not previously been surveyed, a value of zero should be used.</p></dd>


<dt id="arg-site-env-vars-columns">site_env_vars_columns<a class="anchor" aria-label="anchor" href="#arg-site-env-vars-columns"></a></dt>
<dd><p><code>character</code> names of columns in the
argument to <code>site_data</code> that contain environmental information
for fitting updated occupancy models based on possible survey outcomes.
Each column should correspond to a different environmental variable,
and contain <code>numeric</code>, <code>factor</code>, or <code>character</code> data.
No missing (<code>NA</code>) values are permitted in these columns.</p></dd>


<dt id="arg-feature-survey-sensitivity-column">feature_survey_sensitivity_column<a class="anchor" aria-label="anchor" href="#arg-feature-survey-sensitivity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of future surveys correctly detecting a presence of each
feature in a given site (i.e. the sensitivity of the survey methodology).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.</p></dd>


<dt id="arg-feature-survey-specificity-column">feature_survey_specificity_column<a class="anchor" aria-label="anchor" href="#arg-feature-survey-specificity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of future surveys correctly detecting an absence of each
feature in a given site (i.e. the specificity of the survey methodology).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.</p></dd>


<dt id="arg-xgb-tuning-parameters">xgb_tuning_parameters<a class="anchor" aria-label="anchor" href="#arg-xgb-tuning-parameters"></a></dt>
<dd><p><code>list</code> object containing the candidate
parameter values for fitting models. Valid parameters include:
<code>"max_depth"</code>, <code>"eta"</code>, <code>"lambda"</code>,
<code>"min_child_weight"</code>, <code>"subsample"</code>, <code>"colsample_by_tree"</code>,
<code>"objective"</code>. See documentation for the <code>params</code> argument in
<code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgb.train()</a></code> for more information.</p></dd>


<dt id="arg-xgb-early-stopping-rounds">xgb_early_stopping_rounds<a class="anchor" aria-label="anchor" href="#arg-xgb-early-stopping-rounds"></a></dt>
<dd><p><code>numeric</code> model rounds for parameter
tuning. See <code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgboost()</a></code> for more information.
Defaults to 10 for each feature.</p></dd>


<dt id="arg-xgb-n-rounds">xgb_n_rounds<a class="anchor" aria-label="anchor" href="#arg-xgb-n-rounds"></a></dt>
<dd><p><code>numeric</code> model rounds for model fitting
See <code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgboost()</a></code> for more information.
Defaults to 100 for each feature.</p></dd>


<dt id="arg-n-folds">n_folds<a class="anchor" aria-label="anchor" href="#arg-n-folds"></a></dt>
<dd><p><code>numeric</code> number of folds to split the training
data into when fitting models for each feature.
Defaults to 5 for each feature.</p></dd>


<dt id="arg-n-threads">n_threads<a class="anchor" aria-label="anchor" href="#arg-n-threads"></a></dt>
<dd><p><code>integer</code> number of threads to use for parameter
tuning. Defaults to 1.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p><code>integer</code> initial random number generator state for model
fitting. Defaults to 500.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code> indicating if information should be
printed during computations. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>list</code> object containing:</p><dl><dt>parameters</dt>
<dd><p><code>list</code> of <code>list</code> objects containing the best
tuning parameters for each feature.</p></dd>


<dt>predictions</dt>
<dd><p><code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> object containing
predictions for each feature.</p></dd>


<dt>performance</dt>
<dd><p><code><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble::tibble()</a></code> object containing the
performance of the best models for each feature. It contains the following
columns:</p>
<dl><dt>feature</dt>
<dd><p>name of the feature.</p></dd>

<dt>train_tss_mean</dt>
<dd><p>mean TSS statistic for models calculated using training data in
cross-validation.</p></dd>

<dt>train_tss_std</dt>
<dd><p>standard deviation in TSS statistics for models calculated using training
data in cross-validation.</p></dd>

<dt>train_sensitivity_mean</dt>
<dd><p>mean sensitivity statistic for models calculated using training data in
cross-validation.</p></dd>

<dt>train_sensitivity_std</dt>
<dd><p>standard deviation in sensitivity statistics for models calculated using
training data in cross-validation.</p></dd>

<dt>train_specificity_mean</dt>
<dd><p>mean specificity statistic for models calculated using training data in
cross-validation.</p></dd>

<dt>train_specificity_std</dt>
<dd><p>standard deviation in specificity statistics for models calculated using
training data in cross-validation.</p></dd>

<dt>test_tss_mean</dt>
<dd><p>mean TSS statistic for models calculated using test data in
cross-validation.</p></dd>

<dt>test_tss_std</dt>
<dd><p>standard deviation in TSS statistics for models calculated using test
data in cross-validation.</p></dd>

<dt>test_sensitivity_mean</dt>
<dd><p>mean sensitivity statistic for models calculated using test data in
cross-validation.</p></dd>

<dt>test_sensitivity_std</dt>
<dd><p>standard deviation in sensitivity statistics for models calculated using
test data in cross-validation.</p></dd>

<dt>test_specificity_mean</dt>
<dd><p>mean specificity statistic for models calculated using test data in
cross-validation.</p></dd>

<dt>test_specificity_std</dt>
<dd><p>standard deviation in specificity statistics for models calculated using
test data in cross-validation.</p></dd>


</dl></dd>



</dl></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function (i) prepares the data for model fitting, (ii) calibrates
the tuning parameters for model fitting (see <code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgb.train()</a></code>
for details on tuning parameters), (iii) generate predictions using
the best found tuning parameters, and (iv) assess the performance of the
best supported models. These analyses are performed separately for each
feature. For a given feature:</p>
<ol><li><p>The data are prepared for model fitting by partitioning the data using
k-fold cross-validation (set via argument to <code>n_folds</code>). The
training and evaluation folds are constructed
in such a manner as to ensure that each training and evaluation
fold contains at least one presence and one absence observation.</p></li>
<li><p>A grid search method is used to tune the model parameters. The
candidate values for each parameter (specified via <code>parameters</code>) are
used to generate a full set of parameter combinations, and these
parameter combinations are subsequently used for tuning the models.
To account for unbalanced datasets, the
<code>scale_pos_weight</code> <code><a href="https://rdrr.io/pkg/xgboost/man/xgb.train.html" class="external-link">xgboost::xgboost()</a></code> parameter
is calculated as the mean value across each of the training folds
(i.e. number of absence divided by number of presences per feature).
For a given parameter combination, models are fit using k-fold cross-
validation (via <code><a href="https://rdrr.io/pkg/xgboost/man/xgb.cv.html" class="external-link">xgboost::xgb.cv()</a></code>) – using the previously
mentioned training and evaluation folds – and the True Skill Statistic
(TSS) calculated using the data held out from each fold is
used to quantify the performance (i.e. <code>"test_tss_mean"</code> column in
output). These models are also fitted using the
<code>early_stopping_rounds</code> parameter to reduce time-spent
tuning models. If relevant, they are also fitted using the supplied weights
(per by the argument to <code>site_weights_data</code>). After exploring the
full set of parameter combinations, the best parameter combination is
identified, and the associated parameter values and models are stored for
later use.</p></li>
<li><p>The cross-validation models associated with the best parameter
combination are used to generate predict the average probability that the
feature occupies each site. These predictions include sites that have
been surveyed before, and also sites that have not been surveyed before.</p></li>
<li><p>The performance of the cross-validation models is evaluated.
Specifically, the TSS, sensitivity, and specificity statistics are
calculated (if relevant, weighted by the argument to
<code>site_weights_data</code>). These performance values are calculated using
the models' training and evaluation folds.</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># set seeds for reproducibility</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulate data for 30 sites, 2 features, and 3 environmental variables</span></span></span>
<span class="r-in"><span><span class="va">site_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulate_site_data.html">simulate_site_data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  n_sites <span class="op">=</span> <span class="fl">30</span>, n_features <span class="op">=</span> <span class="fl">2</span>, n_env_vars <span class="op">=</span> <span class="fl">3</span>, prop <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">feature_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="simulate_feature_data.html">simulate_feature_data</a></span><span class="op">(</span>n_features <span class="op">=</span> <span class="fl">2</span>, prop <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># create list of possible tuning parameters for modeling</span></span></span>
<span class="r-in"><span><span class="va">parameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>eta <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.5</span>, length.out <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   lambda <span class="op">=</span> <span class="fl">10</span> <span class="op">^</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.0</span>, <span class="fl">0.0</span>, length.out <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   objective <span class="op">=</span> <span class="st">"binary:logistic"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># fit models</span></span></span>
<span class="r-in"><span><span class="co"># note that we use 10 random search iterations here so that the example</span></span></span>
<span class="r-in"><span><span class="co"># finishes quickly, you would probably want something like 1000+</span></span></span>
<span class="r-in"><span><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">fit_xgb_occupancy_models</span><span class="op">(</span></span></span>
<span class="r-in"><span>   <span class="va">site_data</span>, <span class="va">feature_data</span>,</span></span>
<span class="r-in"><span>   <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"f1"</span>, <span class="st">"f2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n1"</span>, <span class="st">"n2"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"e1"</span>, <span class="st">"e2"</span>, <span class="st">"e3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   <span class="st">"survey_sensitivity"</span>, <span class="st">"survey_specificity"</span>,</span></span>
<span class="r-in"><span>   n_folds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">)</span>, xgb_early_stopping_rounds <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">100</span>, <span class="fl">2</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>   xgb_tuning_parameters <span class="op">=</span> <span class="va">parameters</span>, n_threads <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print best found model parameters</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">parameters</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$lambda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$objective</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "binary:logistic"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$scale_pos_weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[1]]$scale_pos_weight[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$eta</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$lambda</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 0.1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$objective</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "binary:logistic"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$scale_pos_weight</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [[2]]$scale_pos_weight[[1]]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1 1 1 1 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print model predictions</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">predictions</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 30 × 2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       f1    f2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 0.450 0.635</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 0.549 0.362</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 0.450 0.629</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 0.549 0.362</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 0.539 0.363</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 0.450 0.638</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 0.450 0.373</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 0.549 0.627</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 0.450 0.630</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 0.529 0.557</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 20 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print model performance</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">results</span><span class="op">$</span><span class="va">performance</span>, width <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 2 × 13</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   feature train_tss_mean train_tss_std train_sensitivity_mean</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> f1               1.00         0                        1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> f2               0.976        0.014<span style="text-decoration: underline;">2</span>                   1.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   train_sensitivity_std train_specificity_mean train_specificity_std</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>                     0                  1.00                 0     </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>                     0                  0.976                0.014<span style="text-decoration: underline;">2</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_tss_mean test_tss_std test_sensitivity_mean test_sensitivity_std</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                 <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>         0.607        0.395                 0.839                0.231</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>         0.703        0.229                 1.00                 0    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   test_specificity_mean test_specificity_std</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>                <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>                 0.769                0.265</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>                 0.703                0.229</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="http://www.iadine-chades.org" class="external-link">Iadine Chadès</a>, <a href="https://ejhudgins.com" class="external-link">Emma J Hudgins</a>, Joseph R Bennett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>


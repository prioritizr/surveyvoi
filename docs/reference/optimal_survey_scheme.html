<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Optimal survey scheme — optimal_survey_scheme • surveyvoi</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Optimal survey scheme — optimal_survey_scheme"><meta name="description" content="Find the optimal survey scheme that maximizes value of information.
This function uses the exact method for
calculating the expected value of the decision given a survey scheme."><meta property="og:description" content="Find the optimal survey scheme that maximizes value of information.
This function uses the exact method for
calculating the expected value of the decision given a survey scheme."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">surveyvoi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.0.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/surveyvoi.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="nav-link" href="https://github.com/prioritizr/surveyvoi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Optimal survey scheme</h1>
      <small class="dont-index">Source: <a href="https://github.com/prioritizr/surveyvoi/blob/HEAD/R/optimal_survey_scheme.R"><code>R/optimal_survey_scheme.R</code></a></small>
      <div class="d-none name"><code>optimal_survey_scheme.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Find the optimal survey scheme that maximizes value of information.
This function uses the exact method for
calculating the expected value of the decision given a survey scheme.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">optimal_survey_scheme</span><span class="op">(</span></span>
<span>  <span class="va">site_data</span>,</span>
<span>  <span class="va">feature_data</span>,</span>
<span>  <span class="va">site_detection_columns</span>,</span>
<span>  <span class="va">site_n_surveys_columns</span>,</span>
<span>  <span class="va">site_probability_columns</span>,</span>
<span>  <span class="va">site_management_cost_column</span>,</span>
<span>  <span class="va">site_survey_cost_column</span>,</span>
<span>  <span class="va">feature_survey_column</span>,</span>
<span>  <span class="va">feature_survey_sensitivity_column</span>,</span>
<span>  <span class="va">feature_survey_specificity_column</span>,</span>
<span>  <span class="va">feature_model_sensitivity_column</span>,</span>
<span>  <span class="va">feature_model_specificity_column</span>,</span>
<span>  <span class="va">feature_target_column</span>,</span>
<span>  <span class="va">total_budget</span>,</span>
<span>  <span class="va">survey_budget</span>,</span>
<span>  site_management_locked_in_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_management_locked_out_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  site_survey_locked_out_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  prior_matrix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  n_threads <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-site-data">site_data<a class="anchor" aria-label="anchor" href="#arg-site-data"></a></dt>
<dd><p><code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf::sf()</a></code> object with site data.</p></dd>


<dt id="arg-feature-data">feature_data<a class="anchor" aria-label="anchor" href="#arg-feature-data"></a></dt>
<dd><p><code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">base::data.frame()</a></code> object with feature data.</p></dd>


<dt id="arg-site-detection-columns">site_detection_columns<a class="anchor" aria-label="anchor" href="#arg-site-detection-columns"></a></dt>
<dd><p><code>character</code> names of <code>numeric</code>
columns in the argument to <code>site_data</code> that contain the proportion of
surveys conducted within each site that detected each feature.
Each column should correspond to a different feature, and contain
a proportion value (between zero and one). If a site has
not previously been surveyed, a value of zero should be used.</p></dd>


<dt id="arg-site-n-surveys-columns">site_n_surveys_columns<a class="anchor" aria-label="anchor" href="#arg-site-n-surveys-columns"></a></dt>
<dd><p><code>character</code> names of <code>numeric</code>
columns in the argument to <code>site_data</code> that contain the total
number of surveys conducted for each each feature within each site.
Each column should correspond to a different feature, and contain
a non-negative integer number (e.g. 0, 1, 2, 3). If a site has
not previously been surveyed, a value of zero should be used.</p></dd>


<dt id="arg-site-probability-columns">site_probability_columns<a class="anchor" aria-label="anchor" href="#arg-site-probability-columns"></a></dt>
<dd><p><code>character</code> names of <code>numeric</code>
columns in the argument to <code>site_data</code> that contain modeled
probabilities of occupancy for each feature in each site.
Each column should correspond to a different feature, and contain
probability data (values between zero and one). No missing (<code>NA</code>)
values are permitted in these columns.</p></dd>


<dt id="arg-site-management-cost-column">site_management_cost_column<a class="anchor" aria-label="anchor" href="#arg-site-management-cost-column"></a></dt>
<dd><p><code>character</code> name of column in the
argument to <code>site_data</code> that contains costs for managing each
site for conservation. This column should have <code>numeric</code> values that
are equal to or greater than zero. No missing (<code>NA</code>) values are
permitted in this column.</p></dd>


<dt id="arg-site-survey-cost-column">site_survey_cost_column<a class="anchor" aria-label="anchor" href="#arg-site-survey-cost-column"></a></dt>
<dd><p><code>character</code> name of column in the
argument to  <code>site_data</code> that contains costs for surveying each
site. This column should have <code>numeric</code> values that are equal to
or greater than zero. No missing (<code>NA</code>) values are permitted in this
column.</p></dd>


<dt id="arg-feature-survey-column">feature_survey_column<a class="anchor" aria-label="anchor" href="#arg-feature-survey-column"></a></dt>
<dd><p><code>character</code> name of the column in the
argument to <code>feature_data</code> that contains <code>logical</code> (<code>TRUE</code> /
<code>FALSE</code>) values indicating if the feature will be surveyed in
the planned surveys or not. Note that considering additional features will
rapidly increase computational burden, and so it is only recommended to
consider features that are of specific conservation interest.
No missing (<code>NA</code>) values are permitted in this column.</p></dd>


<dt id="arg-feature-survey-sensitivity-column">feature_survey_sensitivity_column<a class="anchor" aria-label="anchor" href="#arg-feature-survey-sensitivity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of future surveys correctly detecting a presence of each
feature in a given site (i.e. the sensitivity of the survey methodology).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.</p></dd>


<dt id="arg-feature-survey-specificity-column">feature_survey_specificity_column<a class="anchor" aria-label="anchor" href="#arg-feature-survey-specificity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of future surveys correctly detecting an absence of each
feature in a given site (i.e. the specificity of the survey methodology).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.</p></dd>


<dt id="arg-feature-model-sensitivity-column">feature_model_sensitivity_column<a class="anchor" aria-label="anchor" href="#arg-feature-model-sensitivity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of the initial models correctly predicting a presence of each
feature in a given site (i.e. the sensitivity of the models).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.
This should ideally be calculated using
<code><a href="fit_xgb_occupancy_models.html">fit_xgb_occupancy_models()</a></code> or
<code><a href="fit_hglm_occupancy_models.html">fit_hglm_occupancy_models()</a></code>.</p></dd>


<dt id="arg-feature-model-specificity-column">feature_model_specificity_column<a class="anchor" aria-label="anchor" href="#arg-feature-model-specificity-column"></a></dt>
<dd><p><code>character</code> name of the
column in the argument to <code>feature_data</code> that contains
probability of the initial models correctly predicting an absence of each
feature in a given site (i.e. the specificity of the models).
This column should have <code>numeric</code> values that are between zero and
one. No missing (<code>NA</code>) values are permitted in this column.
This should ideally be calculated using
<code><a href="fit_xgb_occupancy_models.html">fit_xgb_occupancy_models()</a></code> or
<code><a href="fit_hglm_occupancy_models.html">fit_hglm_occupancy_models()</a></code>.</p></dd>


<dt id="arg-feature-target-column">feature_target_column<a class="anchor" aria-label="anchor" href="#arg-feature-target-column"></a></dt>
<dd><p><code>character</code> name of the column in the
argument to <code>feature_data</code> that contains the \(target\)
values used to parametrize the conservation benefit of managing of each
feature.
This column should have <code>numeric</code> values that
are equal to or greater than zero. No missing (<code>NA</code>) values are
permitted in this column.</p></dd>


<dt id="arg-total-budget">total_budget<a class="anchor" aria-label="anchor" href="#arg-total-budget"></a></dt>
<dd><p><code>numeric</code> maximum expenditure permitted
for conducting surveys and managing sites for conservation.</p></dd>


<dt id="arg-survey-budget">survey_budget<a class="anchor" aria-label="anchor" href="#arg-survey-budget"></a></dt>
<dd><p><code>numeric</code> maximum expenditure permitted
for conducting surveys.</p></dd>


<dt id="arg-site-management-locked-in-column">site_management_locked_in_column<a class="anchor" aria-label="anchor" href="#arg-site-management-locked-in-column"></a></dt>
<dd><p><code>character</code> name of the column
in the argument to <code>site_data</code> that contains <code>logical</code>
(<code>TRUE</code> / <code>FALSE</code>) values indicating which sites should
be locked in for (<code>TRUE</code>) being managed for conservation or
(<code>FALSE</code>) not. No missing (<code>NA</code>) values are permitted in this
column. This is useful if some sites have already been earmarked for
conservation, or if some sites are already being managed for conservation.
Defaults to <code>NULL</code> such that no sites are locked in.</p></dd>


<dt id="arg-site-management-locked-out-column">site_management_locked_out_column<a class="anchor" aria-label="anchor" href="#arg-site-management-locked-out-column"></a></dt>
<dd><p><code>character</code> name of the column
in the argument to <code>site_data</code> that contains <code>logical</code>
(<code>TRUE</code> / <code>FALSE</code>) values indicating which sites should
be locked out for (<code>TRUE</code>) being managed for conservation or
(<code>FALSE</code>) not. No missing (<code>NA</code>) values are permitted in this
column. This is useful if some sites could potentially be surveyed
to improve model predictions even if they cannot be managed for
conservation. Defaults to <code>NULL</code> such that no sites are locked out.</p></dd>


<dt id="arg-site-survey-locked-out-column">site_survey_locked_out_column<a class="anchor" aria-label="anchor" href="#arg-site-survey-locked-out-column"></a></dt>
<dd><p><code>character</code> name of the column
in the argument to <code>site_data</code> that contains <code>logical</code>
(<code>TRUE</code> / <code>FALSE</code>) values indicating which sites should
be locked out (<code>TRUE</code>) from being selected for future surveys or
(<code>FALSE</code>) not. No missing (<code>NA</code>) values are permitted in this
column. This is useful if some sites will never be considered for future
surveys (e.g. because they are too costly to survey, or have a
low chance of containing the target species).
Defaults to <code>NULL</code> such that no sites are locked out.</p></dd>


<dt id="arg-prior-matrix">prior_matrix<a class="anchor" aria-label="anchor" href="#arg-prior-matrix"></a></dt>
<dd><p><code>numeric</code> <code>matrix</code> containing
the prior probability of each feature occupying each site.
Rows correspond to features, and columns correspond to sites.
Defaults to <code>NULL</code> such that prior data is calculated automatically
using <code><a href="prior_probability_matrix.html">prior_probability_matrix()</a></code>.</p></dd>


<dt id="arg-n-threads">n_threads<a class="anchor" aria-label="anchor" href="#arg-n-threads"></a></dt>
<dd><p><code>integer</code> number of threads to use for computation.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p><code>logical</code> indicating if information should be
printed during processing. Defaults to <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>matrix</code> of <code>logical</code> (<code>TRUE</code>/ <code>FALSE</code>)
values indicating if a site is selected in the scheme or not. Columns
correspond to sites, and rows correspond to different schemes. If
there is only one optimal survey scheme then the <code>matrix</code> will only
contain a single row. This matrix also has a <code>numeric</code> <code>"ev"</code>
attribute that contains the expected value of each scheme.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The optimal survey scheme is determined using a brute-force algorithm.
Initially, all feasible (valid) survey schemes are identified given the
survey costs and the survey budget (using
<code><a href="feasible_survey_schemes.html">feasible_survey_schemes()</a></code>. Next, the expected value of each and
every feasible survey scheme is computed
(using <code><a href="evdsi.html">evdsi()</a></code>).
Finally, the greatest expected value is identified, and all survey schemes
that share this greatest expected value are returned. Due to the nature of
this algorithm, it can take a very long time to complete.</p>
    </div>
    <div class="section level2">
    <h2 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a></h2>


<p>Please note that this function requires the Gurobi optimization software
(<a href="https://www.gurobi.com/" class="external-link">https://www.gurobi.com/</a>) and the <span class="pkg">gurobi</span> R package if different
sites have different survey costs. Installation instruction are available
online for Linux, Windows, and Mac OS
(see <a href="https://support.gurobi.com/hc/en-us/articles/4534161999889-How-do-I-install-Gurobi-Optimizer" class="external-link">https://support.gurobi.com/hc/en-us/articles/4534161999889-How-do-I-install-Gurobi-Optimizer</a>).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># set seeds for reproducibility</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load example site data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sim_sites</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sim_sites</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Simple feature collection with 6 features and 13 fields</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Geometry type: POINT</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Dimension:     XY</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Bounding box:  xmin: 0.02541313 ymin: 0.07851093 xmax: 0.9888107 ymax: 0.717068</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> CRS:           NA</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   survey_cost management_cost    f1    f2    f3    n1    n2    n3     e1     e2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>          19              99     0     0  0        0     0     0  1.13   0.535</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>          22              87     0     1  0.25     4     4     4 -<span style="color: #BB0000;">1.37</span>  -<span style="color: #BB0000;">1.45</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>          13              94     1     1  0        1     1     1  0.155 -<span style="color: #BB0000;">0.867</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>          19              61     0     0  0        0     0     0 -<span style="color: #BB0000;">0.792</span>  1.32 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>           9             105     0     0  0        0     0     0 -<span style="color: #BB0000;">0.194</span>  0.238</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>          12             136     0     0  0        0     0     0  1.07   0.220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 4 more variables: p1 &lt;dbl&gt;, p2 &lt;dbl&gt;, p3 &lt;dbl&gt;, geometry &lt;POINT&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load example feature data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">sim_features</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">sim_features</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name  survey survey_sensitivity survey_specificity model_sensitivity</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> f1    TRUE                0.951              0.854             0.711</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> f2    TRUE                0.990              0.832             0.722</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> f3    TRUE                0.986              0.808             0.772</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 2 more variables: model_specificity &lt;dbl&gt;, target &lt;dbl&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set total budget for managing sites for conservation</span></span></span>
<span class="r-in"><span><span class="co"># (i.e. 50% of the cost of managing all sites)</span></span></span>
<span class="r-in"><span><span class="va">total_budget</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_sites</span><span class="op">$</span><span class="va">management_cost</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.5</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set total budget for surveying sites for conservation</span></span></span>
<span class="r-in"><span><span class="co"># (i.e. 40% of the cost of managing all sites)</span></span></span>
<span class="r-in"><span><span class="va">survey_budget</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">sim_sites</span><span class="op">$</span><span class="va">survey_cost</span><span class="op">)</span> <span class="op">*</span> <span class="fl">0.4</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># find optimal survey scheme using exact method</span></span></span>
<span class="r-in"><span><span class="va">opt_survey</span> <span class="op">&lt;-</span> <span class="fu">optimal_survey_scheme</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">sim_sites</span>, <span class="va">sim_features</span>,</span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"f1"</span>, <span class="st">"f2"</span>, <span class="st">"f3"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n1"</span>, <span class="st">"n2"</span>, <span class="st">"n3"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"p1"</span>, <span class="st">"p2"</span>, <span class="st">"p3"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  <span class="st">"management_cost"</span>, <span class="st">"survey_cost"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"survey"</span>, <span class="st">"survey_sensitivity"</span>, <span class="st">"survey_specificity"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"model_sensitivity"</span>, <span class="st">"model_specificity"</span>,</span></span>
<span class="r-in"><span>  <span class="st">"target"</span>, <span class="va">total_budget</span>, <span class="va">survey_budget</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># print result</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">opt_survey</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      [,1]  [,2]  [,3]  [,4] [,5]  [,6]</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1,] TRUE FALSE FALSE FALSE TRUE FALSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> attr(,"ev")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 1.812399</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://jeffrey-hanson.com" class="external-link">Jeffrey O Hanson</a>, <a href="http://www.iadine-chades.org" class="external-link">Iadine Chadès</a>, <a href="https://ejhudgins.com" class="external-link">Emma J Hudgins</a>, Joseph R Bennett.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

